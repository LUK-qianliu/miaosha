# miaosha
秒杀项目 博客介绍此项目:https://blog.csdn.net/qq_35688140/article/details/100522023
## 1.此项目的技术介绍
（1）redis做对象缓存：（因为redis毕竟有网络开销，有些地方可以使用conCurrentHashMap代替redis）

将商品秒杀对象缓存在redis中减少mysql的io

用户登录token（分布式session）

（2）ajax前端静态化：将html缓存在客户端，减少网络数据传输（vue是更好的选择，如果会前端编程可以用nodejs相关框架）

（3）加密使用的是两次MD5:前端一次MD5传到后端，后端一次MD5，最后加入数据库

（4）validate自定义注解（JSR303）：访问数据前对数据正则判断，不符合要求的一律不允许通过，用注解统一管理使得代码更加优雅简洁

（5）全局异常处理：使得就算报错，前端也不会跳出奇怪的异常界面，而是在后端控制台显示已经捕获的异常

（6）本项目的util也提供了雪花算法生成id的方式，虽然为了简化代码量没有使用，但是提供简单的demo供大家学习

（7）rabbitmq：为了减少数据库一次性写入太多数据而无法承受，故设置了rabbitmq作为数据的缓冲，稍后再写入到数据库。

（8）隐藏秒杀的url：在调用秒杀的url之前多加了一层验证，防止机器人不停刷秒杀用的url

（9）限流设置:使用自定义注解的方式限制用户的流量，一旦流量大于5秒内5次，就返回刷新频率过高。（因为采用注解的方式，可以手动传入秒数和次数）

## 2. 补充：服务器可以nginx+多个tomcat实现分担负载

